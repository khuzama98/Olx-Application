<!DOCTYPE html>
<html lang="en">
<head>
	<title>Olx - Pakistan</title>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" type="text/css" href="styles/bootstrap4/bootstrap.min.css">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
	<link href="plugins/fontawesome-free-5.0.1/css/fontawesome-all.css" rel="stylesheet" type="text/css">
	<link rel="stylesheet" type="text/css" href="styles/main_styles.css">
	<link rel="stylesheet" type="text/css" href="styles/responsive.css">
	<link rel="stylesheet" href="./styles/custom.css">
	<link rel="manifest" href="./manifest.json">
</head>

<body onload="checkAuth();loadTopPick()">
	<!-- Login Modal -->
	<div class="modal fade" id="loginModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="exampleModalLongTitle">Login</h5>
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body">
					<label for="">Email</label>
					<input id="loginEmail" type="text" class="form-control">
					<label for="" class="login-margin">Password</label>
					<input id="loginPassword" type="password" class="form-control">
					<button onclick="login()" type="button" class="btn btn-success login-margin">Login</button>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-toggle="modal" data-target="#signupModal" data-dismiss="modal">Create a new account</button>
				</div>
			</div>
		</div>
	</div>	
	<!-- Signup Modal -->
	<div class="modal fade" id="signupModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="exampleModalLongTitle">Create an Account</h5>
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body">
					<label for="">Username</label>
					<input id="username" type="text" class="form-control">
					<label class="login-margin" for="">Email</label>
					<input id="signupEmail" type="text" class="form-control">
					<label class="login-margin" for="">Password</label>
					<input id="signupPassword" type="password" class="form-control">
					<button onclick="signup()" type="button" class="btn btn-success login-margin">Create</button>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-toggle="modal" data-target="#loginModal" data-dismiss="modal">Login</button>
				</div>
			</div>
		</div>
	</div>	
	<div class="super_container">
		
		<!-- Header -->
		
		<header class="header">
			
			<!-- Top Bar -->
			
			
			<!-- Header Main -->
			
			<div class="header_main">
				<div class="container">
					<div class="row">
						
						<!-- Logo -->
						<div class="col-lg-2 col-sm-3 col-3 order-1">
							<div class="logo_container">
								<div class="logo"><a href="#">OLX</a></div>
							</div>
						</div>
						
						<!-- Search -->
						<div class="col-lg-6 col-12 order-lg-2 order-3 text-lg-left text-right">
							<div class="header_search">
								<div class="header_search_content">
									<div class="header_search_form_container">
										<form action="#" class="header_search_form clearfix">
											<input type="search" required="required" class="header_search_input" placeholder="Search for products..." id="indexSearch" >
											<div class="custom_dropdown">
												<div class="custom_dropdown_list">
													<span id="ddl" class="custom_dropdown_placeholder clc">Select Categories</span>
													<i class="fas fa-chevron-down"></i>
													<ul class="custom_list clc">
														<li><a class="clc" href="#">Select Categories</a></li>
														<li><a class="clc" href="#">Properties</a></li>
														<li><a class="clc" href="#">Cars</a></li>
														<li><a class="clc" href="#">Furniture</a></li>
														<li><a class="clc" href="#">JObs</a></li>
														<li><a class="clc" href="#">Electronics</a></li>
														<li><a class="clc" href="#">Mobiles</a></li>
														<li><a class="clc" href="#">Bikes</a></li>
														<li><a class="clc" href="#">Books</a></li>
													</ul>
												</div>
											</div>
											<button onclick="searchFromIndex()" type="button" class="header_search_button trans_300" value="Submit"><img src="images/search.png" alt=""></button>
										</form>
									</div>
								</div>
							</div>
						</div>
						
						<!-- Wishlist -->
						<div class="col-lg-4 col-9 order-lg-3 order-2 text-lg-left text-right">
							<div class="wishlist_cart d-flex flex-row align-items-center justify-content-end">
								
								<div class="wishlist d-none flex-row align-items-center justify-content-end" id="logout">
									<div class="wishlist_content">
										<div class="wishlist_text"> 
											<!-- <p class="user d-inline-block">K</p>
												<a style="line-height: 40px;" onclick="logout()" class="d-inline-block" href="#">Logout</a> -->
												<div class="dropdown show">
													<a class="btn btn-primary dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
														
													</a>
													
													<div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
														<a class="dropdown-item" href="./pages/profile.html">Profile</a>
														<a class="dropdown-item" href="./pages/chat.html">Messages</a>
														<a class="dropdown-item" onclick="logout()" href="JavaScript:void(0)">Logout</a>
													</div>
												</div>
											</div>
										</div>
									</div>
									<div class="wishlist d-flex flex-row align-items-center justify-content-end" id="login">
										<div class="wishlist_content">
											<button id="loginBtn" type="button" class="btn btn-primary" data-toggle="modal" data-target="#loginModal">
												Login
											</button>
										</div>
									</div>
									<div class="wishlist d-flex flex-row align-items-center justify-content-end">
										<div class="wishlist_content">
											<div class="wishlist_text"><a onclick="postRedirect()" href="JavaScript:void(0)">SELL</a></div>
										</div>
									</div>
									<!-- Cart -->
									
								</div>
							</div>
						</div>
					</div>
				</div>
				
				<!-- Main Navigation -->
				
				<nav class="main_nav">
					<div class="container">
						<div class="row">
							<div class="col">
								
								<div class="main_nav_content d-flex flex-row">
									
									<!-- Categories Menu -->
									
									<div onclick="showCategories()" class="cat_menu_container">
										<div class="cat_menu_title d-flex flex-row align-items-center justify-content-start">
											<div class="cat_burger"><span></span><span></span><span></span></div>
											<div class="cat_menu_text">categories</div>
										</div>
										
										<ul id="cat_list"class="cat_menu d-none">
											<li><a href="./pages/searchresult.html?category=Properties">Properties<i class="fas fa-chevron-right ml-auto"></i></a></li>
											<li><a href="./pages/searchresult.html?category=Cars">Cars<i class="fas fa-chevron-right"></i></a></li>
											<li><a href="./pages/searchresult.html?category=Furniture">Furniture<i class="fas fa-chevron-right"></i></a></li>
											<li><a href="./pages/searchresult.html?category=Jobs">Jobs<i class="fas fa-chevron-right"></i></a></li>
											<li><a href="./pages/searchresult.html?category=Car">Car<i class="fas fa-chevron-right"></i></a></li>
											<li><a href="./pages/searchresult.html?category=Electronics">Electronics & Appliances<i class="fas fa-chevron-right"></i></a></li>
											<li><a href="./pages/searchresult.html?category=Mobiles">Mobiles<i class="fas fa-chevron-right"></i></a></li>
											<li><a href="./pages/searchresult.html?category=Bikes">Bikes<i class="fas fa-chevron-right"></i></a></li>
											<li><a href="./pages/searchresult.html?category=Books">Books<i class="fas fa-chevron-right"></i></a></li>
										</ul>
									</div>
									
									<!-- Main Nav Menu -->
									
									
									<!-- Menu Trigger -->
									
									<div class="menu_trigger_container ml-auto">
										<div class="menu_trigger d-flex flex-row align-items-center justify-content-end">
											<div class="menu_burger">
												<div class="menu_trigger_text">menu</div>
												<div class="cat_burger menu_burger_inner"><span></span><span></span><span></span></div>
											</div>
										</div>
									</div>
									
								</div>
							</div>
						</div>
					</div>
				</nav>
				
				<!-- Menu -->
				
				<div class="page_menu">
					<div class="container">
						<div class="row">
							<div class="col">
								
								<div class="page_menu_content">
									
									<div class="page_menu_search">
										<form action="#">
											<input type="search" required="required" class="page_menu_search_input" placeholder="Search for products...">
										</form>
									</div>
									<ul class="page_menu_nav">
										<li class="page_menu_item has-childern">
											<a href="#">Login</a>
										</li>
										<li class="page_menu_item has-childern">
											<a href="#">Sell</a>
										</li>
										
									</ul>
									
								</div>
							</div>
						</div>
					</div>
				</div>
				
			</header>
			
			<!-- Banner -->
			
			<div class="banner">
				<div class="banner_background" style="background-image:url(images/banner_background.jpg)"></div>
				<div class="container fill_height">
					<div class="row fill_height">
						<div class="banner_product_image"><img src="images/banner_product.png" alt=""></div>
						<div class="col-lg-5 offset-lg-4 fill_height">
							<div class="banner_content">
								<h1 class="banner_text">new era of smartphones</h1>
								<div class="banner_price"><span>$530</span>$460</div>
								<div class="banner_product_name">Apple Iphone 6s</div>
								<div class="button banner_button"><a href="#">Shop Now</a></div>
							</div>
						</div>
					</div>
				</div>
			</div>
			
			<!-- Characteristics -->
			
			<div class="characteristics">
				<div class="container">
					<div class="row">
						<div class="col-md-12">
							<h3>Popular Categories</h3>
							<p>Browse through some of our most popular categories.</p>
							
						</div>
					</div>
					
					<div class="row">
						
						<!-- Char. Item -->
						<div class="col-lg-3 col-md-6 char_col">
							
							<div class="char_item d-flex flex-row align-items-center justify-content-start">
								<div class="char_icon"><i class="fas fa-building icon-size"></i></div>
								<div class="char_content">
									<div class="char_title">PROPERTIES</div>
									<div class="char_subtitle">from $50</div>
								</div>
							</div>
						</div>
						
						<!-- Char. Item -->
						<div class="col-lg-3 col-md-6 char_col">
							
							<div class="char_item d-flex flex-row align-items-center justify-content-start">
								<div class="char_icon"><i class="fas fa-car icon-size"></i></div>
								<div class="char_content">
									<div class="char_title">CARS</div>
									<div class="char_subtitle">from $50</div>
								</div>
							</div>
						</div>
						
						<!-- Char. Item -->
						<div class="col-lg-3 col-md-6 char_col">
							
							<div class="char_item d-flex flex-row align-items-center justify-content-start">
								<div class="char_icon"><i class="fas fa-chair icon-size"></i></div>
								<div class="char_content">
									<div class="char_title">FURNITURE</div>
									<div class="char_subtitle">from $50</div>
								</div>
							</div>
						</div>
						
						<!-- Char. Item -->
						<div class="col-lg-3 col-md-6 char_col">
							
							<div class="char_item d-flex flex-row align-items-center justify-content-start">
								<div class="char_icon"><i class="fas fa-briefcase icon-size"></i></div>
								<div class="char_content">
									<div class="char_title">JOBS</div>
									<div class="char_subtitle">from $50</div>
								</div>
							</div>
						</div>
						
						<div class="col-lg-3 col-md-6 char_col categorie-margin">
							
							<div class="char_item d-flex flex-row align-items-center justify-content-start">
								<div class="char_icon"><i class="fas fa-tv icon-size"></i></div>
								<div class="char_content">
									<div class="char_title">ELECTRONICS & APPLIANCES</div>
									<div class="char_subtitle">from $50</div>
								</div>
							</div>
						</div>
						
						<div class="col-lg-3 col-md-6 char_col categorie-margin">
							
							<div class="char_item d-flex flex-row align-items-center justify-content-start">
								<div class="char_icon"><i class="fas fa-mobile-alt icon-size"></i></div>
								<div class="char_content">
									<div class="char_title">MOBILES</div>
									<div class="char_subtitle">from $50</div>
								</div>
							</div>
						</div>
						
						<div class="col-lg-3 col-md-6 char_col categorie-margin">
							
							<div class="char_item d-flex flex-row align-items-center justify-content-start">
								<div class="char_icon"><i class="fas fa-motorcycle icon-size"></i></div>
								<div class="char_content">
									<div class="char_title">BIKES</div>
									<div class="char_subtitle">from $50</div>
								</div>
							</div>
						</div>
						
						<div class="col-lg-3 col-md-6 char_col categorie-margin">
							
							<div class="char_item d-flex flex-row align-items-center justify-content-start">
								<div class="char_icon"><i class="fas fa-book icon-size"></i></div>
								<div class="char_content">
									<div class="char_title">BOOKS</div>
									<div class="char_subtitle">from $50</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			
			<!-- Deals of the week -->
			
			<div class="deals_featured">
				<div class="container">
					<div class="row">
						<!-- <div class="col d-flex flex-lg-row flex-row align-items-center justify-content-start"> -->
							<div class="col-md-12">
								<h3>TOP PICKS FOR YOU.</h3>
								<hr>									
								<!-- <div id="topPick" class="col-md-12"> -->
									<div style="margin-bottom:40px;"  class="container">
										<div style="text-align:center;">
											
											<img src="./images/loader.gif" id="loader" height="250px" width="250px" alt="loader">
										</div>
										<div id="topPick" class="row">
											
										</div>
										
									</div>
									<!-- Deals -->
									
									
								</div>
								<!-- Product Panel -->
								
								
							</div>
							<!-- </div> -->
							
						</div>
						
						
					</div>
					
					<!-- Popular Categories -->
					
					<!-- Newsletter -->
					
					<div class="newsletter">
						<div class="container">
							<div class="row">
								<div class="col">
									<div class="newsletter_container d-flex flex-lg-row flex-column align-items-lg-center align-items-center justify-content-lg-start justify-content-center">
										<div class="newsletter_title_container">
											<div class="newsletter_icon"><img src="images/send.png" alt=""></div>
											<div class="newsletter_title">Sign up Now!</div>
											<div class="newsletter_text"><p>...and receive %20 coupon for first shopping.</p></div>
										</div>
										<div class="newsletter_content clearfix">
											<form action="#" class="newsletter_form">
												<button class="newsletter_button">Signup</button>
											</form>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
					
					<!-- Footer -->
					
					<footer class="footer">
						<div class="container">
							<div class="row">
								
								<div class="col-lg-3 footer_col">
									<div class="footer_column footer_contact">
										<div class="logo_container">
											<div class="logo"><a href="#">OLX</a></div>
										</div>
										<div class="footer_title">Got Question? Call Us 24/7</div>
										<div class="footer_phone">+38 068 005 3570</div>
										<div class="footer_contact_text">
											<p>17 Princess Road, London</p>
											<p>Grester London NW18JR, UK</p>
										</div>
										<div class="footer_social">
											<ul>
												<li><a href="#"><i class="fab fa-facebook-f"></i></a></li>
												<li><a href="#"><i class="fab fa-twitter"></i></a></li>
												<li><a href="#"><i class="fab fa-youtube"></i></a></li>
												<li><a href="#"><i class="fab fa-google"></i></a></li>
												<li><a href="#"><i class="fab fa-vimeo-v"></i></a></li>
											</ul>
										</div>
									</div>
								</div>
								
								<div class="col-lg-2 offset-lg-2">
									<div class="footer_column">
										<div class="footer_title">Find it Fast</div>
										<ul class="footer_list">
											<li><a href="#">Properties</a></li>
											<li><a href="#">Cars</a></li>
											<li><a href="#">Furniture</a></li>
											<li><a href="#">Jobs</a></li>
										</ul>
									</div>
								</div>
								
								<div class="col-lg-2">
									<div class="footer_column">
										<ul class="footer_list footer_list_2">
											<li><a href="#">Electronics & Appliances</a></li>
											<li><a href="#">Mobiles</a></li>
											<li><a href="#">Bikes</a></li>
											<li><a href="#">Books</a></li>
										</ul>
									</div>
								</div>
								
							</div>
						</div>
					</footer>
					
					<!-- Copyright -->
					
					<div class="copyright">
						<div class="container">
							<div class="row">
								<div class="col">
									
									<div class="copyright_container d-flex flex-sm-row flex-column align-items-center justify-content-start">
										<div class="copyright_content">
											Developed By Khuzama Shahid.
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
				
				<script>
					
					window.addEventListener('load', async e =>{
						
						if ('serviceWorker' in navigator) {
							navigator.serviceWorker.register('./MyOlxSw.js')
							.then(() => {
								console.log('service worker')
							})
							.catch(error =>{
								console.log(error)
							})
						}
						else{
							console.log('no serviceWorker')
						}
					})
					/* ======================== REQUESTING-PUSH-NOTIFICATION  START ======================== */
			
			// if ('serviceWorker' in navigator) {
				// 	window.addEventListener('load', function() {
					// 		navigator.serviceWorker.register('myOlxSw.js').then(function(registration) {
						
						// 			// Registration was successful
						// 			firebase.messaging().useServiceWorker(registration);
						
						// 			firebase.auth().onAuthStateChanged(function(user) {
							// 				if (user) {
								
								// 					function saveMessagingDeviceToken() {
									
									// 						firebase.messaging().getToken().then(function(currentToken) {
										// 							if (currentToken) {
											// 								console.log('Got FCM device token:', currentToken);
											// 								// Saving the Device Token to the datastore.
											// 								firebase.database().ref('/fcmTokens').child(currentToken)
											// 								.set(firebase.auth().currentUser.uid);
											// 							} else {
												// 								// Need to request permissions to show notifications.
												// 								requestforpermision()
												// 							}
												// 						}).catch(function(error) {
													// 							console.error('Unable to get messaging token.', error.stack);
													// 						});
													// 					} //Savetoken ends here
													
													// 					function requestforpermision() {
														// 						firebase.messaging().requestPermission().then(function() {
															// 							// Notification permission granted.
															// 							saveMessagingDeviceToken();
															// 						}).catch(function(error) {
																// 							console.error('Unable to get permission to notify.', error);
																// 							alert("Your Notifications Are Disabled")
																// 						});
																
																// 					} //Req Permisison ends here
																// 					requestforpermision()
																// 				}
																// 			});
																// 			console.log('ServiceWorker registration successful with scope: ', registration.scope);
																// 		}, function(err) {
																	// 			// registration failed :(
																	// 			console.log('ServiceWorker registration failed: ', err);
																	// 		});
																	// 	});
																	// }
																	
																	// firebase.messaging().onMessage(function(payload) {
																		// 	console.log(payload)
																		// });
																		
																		/* ======================== REQUESTING-PUSH-NOTIFICATION  END ======================== */
																		
																		
																		
				</script>
				<script src="js/jquery-3.3.1.min.js"></script>
				<script src="styles/bootstrap4/popper.js"></script>
				<script src="styles/bootstrap4/bootstrap.min.js"></script>
				<script src="./plugins/greensock/TweenMax.min.js"></script>
				<script src="js/custom.js"></script>
				<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
				<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
				<script src="https://www.gstatic.com/firebasejs/5.8.3/firebase.js"></script>
				<script src="./js/auth.js"></script>
				<script>
					M.AutoInit();
				</script>
			</body>
			
			</html>
			